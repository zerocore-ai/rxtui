use rxtui::prelude::*;

//--------------------------------------------------------------------------------------------------
// Types
//--------------------------------------------------------------------------------------------------

#[derive(Component)]
struct RxTuiLogo;

//--------------------------------------------------------------------------------------------------
// Methods
//--------------------------------------------------------------------------------------------------

impl RxTuiLogo {
    #[view]
    fn view(&self, ctx: &Context) -> Node {
        node! {
            div(
                w_frac: 1.0,
                h_frac: 1.0,
                dir: vertical,
                pad: 2,
                gap: 1,
                @char_global('q'): ctx.handler(()),
                @key_global(esc): ctx.handler(())
            ) [
                vstack [
                    text("██████    ██    ██  ██████████  ██    ██  ██", color: "#8B4FB3"),
                    text("██████    ██    ██  ██████████  ██    ██  ██", color: "#B06FA8"),
                    text("██████    ██    ██  ██████████  ██    ██  ██", color: "#D68F9E"),
                    text("██████    ██    ██  ██████████  ██    ██  ██", color: "#e9dada"),
                    text("██    ██      ██        ██      ██    ██  ██", color: "#e9dada"),
                    text("██████      ██          ██      ██    ██  ██", color: "#e9dada"),
                    text("██    ██  ██    ██      ██      ████████  ██", color: "#e9dada")
                ],

                text(format!("v{} \"appcypher\"", env!("CARGO_PKG_VERSION")), color: "#969696")
            ]
        }
    }
}

//--------------------------------------------------------------------------------------------------
// Functions
//--------------------------------------------------------------------------------------------------

fn main() -> std::io::Result<()> {
    App::new()?.run(RxTuiLogo)
}
